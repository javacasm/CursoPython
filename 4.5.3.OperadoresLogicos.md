## Operadores lógicos

A veces tenemos que comprobar varias expresiones combinando los resultados de todas ellas en un único resultado.

Para ello usaremos los operadores lógicos

Operador|Resultado
---|---
and| todos los valores han de ser *True*
or| al menos uno de los valores ha de ser *True*
not| se invierte el resultado

Podemos usar los operadores lógicos para encadenar varias comparaciones como vemos en este ejemplo que determina [si un año es bisiesto](https://es.wikipedia.org/wiki/A%C3%B1o_bisiesto) para lo que hay que ver si divisible por 4, pero no múltiplo de 100 salvo que lo sea de 400 (sí, es un poco lioso, pero así es como se hace...)

[Código](https://github.com/javacasm/CursoPython/edit/master/codigo/4.1.bisiesto.py)

```python
# Programa que determina si un año es o no bisiesto
# Divisible por 4
# No divisible por 100 salvo que
# Sea divisible por 400
year = int(input('Introduzca el año: '))

if (year%4)==0 and ( (year%400)==0 or  not ((year%100)== 0)):
  print('Es bisiesto!!')
else:
  print ('No es bisiesto!!')

```

Vamos a ver despacio la condición que deben cumplir los años bisiestos es: 

* Deben ser múltiplos de 4
* No deben ser múltiplos de 100, salvo que lo sean de 400

Traduciéndolo a pseudocódigo:

* Múltiplo de 4 Y  No deben ser múltiplos de 100, salvo que lo sean de 400 

La segunda condición podemos descomponerla en:

* No Múltiplo de 100 o Múltiplo de 400

Traducimos a código  usando el operador módulo % (resto de la división)  y comprobando que el resultado de aplicarse a nuestro año es 0:

```python
( (year%4) == 0 ) and (   not ( (year%100) == 0)    or  ( (year%400)  == 0 )      )
```

Donde hemos rodeado cada operación y cada comparación lógica por un paréntesis.

Pero Python es bastante listo y sabe lo que queremos hacer con lo que podemos eliminar casi todos los paréntesis y dejarlo así:

```python
year%4 == 0  and (   not year%100 == 0    or  year%400  == 0 )
```

Donde sólo hemos dejando el paréntesis que no dice que la 2a y 3a comparaciones están agrupadas y hay que usarlas juntas

Otra forma de hacer varias comparaciones es usando notación matemática, por ejemplo, para comprobar si una variable está dentro de un rango.

Normalmente haríamos:

```python
if minimo < variable and variable < maximo : 
    ...
```
Usando notación matemática queda más claro y compacto:

```python
if minimo < variable < maximo : 
    ...
```


# Sentencias anidadas

A veces la decisión es compleja y necesitamos poner unas condiciones dentro de otras. Decimos entonces que las condiciones están anidadas. En este caso tenemos que extremar el cuidado con la indentación de las líneas.

Vamos a hacer un ejemplo que nos da los días que tiene un mes dado. Convertimos directamente el valor que nos da el usuario a entero, para poder hacer las comparaciones entre números.

En el if/else más externo comprobamos si el valor del mes es correcto, en los interiores según los valores de los meses:

[Código](https://raw.githubusercontent.com/javacasm/CursoPython/master/codigo/4.1.diasMes.py)

```python
# Nos da los días que tiene el mes seleccionado
mes = int(input('Introduce el mes:'))
year = int(input('Introduce el año:'))
# Comprobamos si está entre 1 y 12
if 1 <= mes <= 12:
    if mes == 2:
        if (year%4)==0 and ( (year%400)==0 or  not ((year%100)== 0)):
            dias = 29
        else:
            dias =28
    elif (mes == 4) or (mes == 6) or (mes == 9) or (mes == 11):
        dias = 30
    else:
        dias = 31
    print (f'El mes {mes} del año {year} tiene {dias} días')
else:
    print ('El mes debe ser entre 1 y 12')
```

Vamos a aprovechar lo visto para dar un nivel de seguridad a nuestro interface de comandos. Para ello preguntaremos el nombre al usuario y sólo si el usuario es adecuado daremos acceso a los comandos. Además si quiere apagar el ordenador le pediremos una confirmación:


[Codigo](https://raw.githubusercontent.com/javacasm/CursoPython/master/codigo/4.5.3.Consolacomandos_v3.py)

```python
# Simulación de consola de comandos v3
usuario = input('Introduzca el nombre de usuario: ')
if usuario == 'pepe' or usuario == 'admin':
    print('Bienvenido ' + usuario)
    comando = input('Introduzca el comando: ')
    if comando == 'Apagar':
        confirmacion = input('Confirme que desea apagar respondiendo "Si": ' )
        if confirmacion == 'Si':
            print('Apagando el equipo...')
        else:
            print('No se ha confirmado el apagado')
    elif comando == 'Encender':
        print('Encendemos el equipo')
    else :
        print('Comando ' + comando + ' no reconocido')
else:
    print('Acceso denegado')
```

Vamos a fijarnos en los diferentes niveles de anidamiento de las sentencias y cómo hemos utilizado el operador lógico "*or*" para comprobar entre los nombres de usuario.


[![Vídeo: Operadores lógicos y relacionales en Python](https://img.youtube.com/vi/CmI-TJ2SWlE/0.jpg)](https://drive.google.com/file/d/1XJKvPZWCjML7Givbh9lUYjBjwYAQC9tD/view?usp=sharing)


[Vídeo: Operadores lógicos y relacionales en Python](https://drive.google.com/file/d/1XJKvPZWCjML7Givbh9lUYjBjwYAQC9tD/view?usp=sharing)

